<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Tree Populations vs. Air Quality, Neighborhood by Neighborhood</title>
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  <!-- Load d3.js -->
  <script src="https://d3js.org/d3.v6.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Turf.js/5.1.5/turf.min.js"></script>



  <!-- Create an element where the map will take place -->
</head>

<body>

  <header>brought to you by adv cs</header>

  <nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">NYC Treecount</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="index.html">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="about.html">About</a>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            micro summaries
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
            
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro3.html">Brooklyn</a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro1.html">Manhattan</a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro4.html">Queens</a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro5.html">Staten Island</a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro101.html">Financial District </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro102.html">Greenwich Village and Soho </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro103.html">Lower East Side and Chinatown</a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro104.html">Clinton and Chelsea</a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro105.html">Midtown </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro106.html">Stuyvesant Town and Turtle Bay</a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro107.html">Upper West Side</a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro108.html">Upper East Side </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro109.html">Morningside Heights and Hamilton Heights </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro110.html">Central Harlem </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro111.html">East Harlem </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro112.html">Washington Heights and Inwood </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro201.html">Mott Haven and Melrose </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro202.html">Hunts Point and Longwood </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro203.html">Morrisania and Crotona </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro204.html">Highbridge and Concourse </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro205.html">Fordham and University Heights </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro206.html">Belmont and East Tremont </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro207.html">Kingsbridge Heights and Bedford </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro208.html">Riverdale and Fieldston </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro209.html">Parkchester and Soundview </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro210.html">Throgs Neck and Co-op City </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro211.html">Morris Park and Bronxdale </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro212.html">Williamsbridge and Baychester </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro301.html">Greenpoint and Williamsburg </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro302.html">Fort Greene and Brooklyn Heights </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro303.html">Bedford Stuyvesant </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro304.html">Bushwick </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro305.html">East New York and Starrett City </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro306.html">Park Slope and Carroll Gardens </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro307.html">Sunset Park </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro308.html">Crown Heights and Prospect Heights </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro309.html">South Crown Heights and Lefferts Gardens </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro310.html">Bay Ridge and Dyker Heights </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro311.html">Bensonhurst </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro312.html">Borough Park </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro313.html">Coney Island </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro314.html">Flatbush and Midwood </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro315.html">Sheepshead Bay </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro316.html">Brownsville </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro317.html">East Flatbush </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro318.html">Flatlands and Canarsie </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro401.html">Long Island City and Astoria </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro402.html">Woodside and Sunnyside </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro403.html">Jackson Heights </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro404.html">Elmhurst and Corona (CD4)</a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro405.html">Ridgewood and Maspeth </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro406.html">Rego Park and Forest Hills </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro407.html">Flushing and Whitestone </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro408.html">Hillcrest and Fresh Meadows </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro409.html">Kew Gardens and Woodhaven </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro410.html">South Ozone Park and Howard Beach </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro411.html">Bayside and Little Neck </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro412.html">Jamaica and Hollis </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro413.html">Queens Village </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro414.html">Rockaway and Broad Channel </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro501.html">St. George and Stapleton </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro502.html">South Beach and Willowbrook </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro503.html">Tottenville and Great Kills </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro1.html">New York City</a>
              </li>
              
              <li><hr class="dropdown-divider"></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>

  <h1> Tree Population and Air Quality, by Community Districts </h1>
  <svg id="my_dataviz" width="800" height="600" align="center"></svg>
  <script type = "text/javascript" src="map.js"></script>
  <script>
  // The svg

  //console.log(treeData);
  const svg = d3.select("svg"),
    width = +svg.attr("width"),
    height = +svg.attr("height");


  d3.json("geojson.json").then(function(data) {
    var features = data.features;
    var projection = d3.geoMercator();
    var path = d3.geoPath().projection(projection);
    var fixed = features.map(function(f) {
      return turf.rewind(f,{reverse:true});
    });

    projection.fitSize([width,height],{"type": "FeatureCollection","features":fixed})

    //Lines 45-48 and 54 are commented out is what is not working. Basically the csv has line breaks and html is saying a ) is missing even though the csv is continuing
    //let treeData = Object.assign(new Map(d3.csvParse(name,code,tree
Bronx,2,137115
Brooklyn,3,173063
Manhattan,1,64229
Queens,4,241414
StatenIsland,5,103313
FinancialDistrict,101,2362
GreenwichVillageandSoho,102,4954
LowerEastSideandChinatown,103,4864
ClintonandChelsea,104,4596
Midtown,105,2127
StuyvesantTownandTurtleBay,106,4967
UpperWestSide,107,8699
UpperEastSide,108,9073
MorningsideHeightsandHamiltonHeights,109,4909
CentralHarlem,110,5889
EastHarlem,111,4777
WashingtonHeightsandInwood,112,7012
MottHavenandMelrose,201,4714
HuntsPointandLongwood,202,4934
MorrisaniaandCrotona,203,4797
HighbridgeandConcourse,204,6417
FordhamandUniversityHeights,205,4728
BelmontandEastTremont,206,5107
KingsbridgeHeightsandBedford,207,5236
RiverdaleandFieldston,208,59931
ParkchesterandSoundview,209,9772
ThrogsNeckandCo-opCity,210,10962
MorrisParkandBronxdale,211,9762
WilliamsbridgeandBaychester,212,10755
GreenpointandWilliamsburg,301,11888
FortGreeneandBrooklynHeights,302,8609
BedfordStuyvesant,303,9313
Bushwick,304,7015
EastNewYorkandStarrettCity,305,16374
ParkSlopeandCarrollGardens,306,10087
SunsetPark,307,7931
CrownHeightsandProspectHeights,308,5594
SouthCrownHeightsandLeffertsGardens,309,5225
BayRidgeandDykerHeights,310,10300
Bensonhurst,311,9133
BoroughPark,312,12173
ConeyIsland,313,3889
FlatbushandMidwood,314,10237
SheepsheadBay,315,13216
Brownsville,316,5179
EastFlatbush,317,8182
FlatlandsandCanarsie,318,18718
LongIslandCityandAstoria,401,12633
WoodsideandSunnyside,402,8463
JacksonHeights,403,10537
ElmhurstandCorona(CD4),404,6488
RidgewoodandMaspeth,405,18741
RegoParkandForestHills,406,9876
FlushingandWhitestone,407,28644
HillcrestandFreshMeadows,408,19880
KewGardensandWoodhaven,409,11110
SouthOzoneParkandHowardBeach,410,14685
BaysideandLittleNeck,411,27252
JamaicaandHollis,412,25499
QueensVillage,413,35805
RockawayandBroadChannel,414,11801
StGeorgeandStapleton,501,25279
SouthBeachandWillowbrook,502,25369
TottenvilleandGreatKills,503,52665
NewYorkCity,1,71913
, ({code, tree}) => [code, +tree])), {title: "Unemployment rate (%)"});
    //let color = d3.scaleQuantize([1, 7], d3.schemeBlues[6]);
    //console.log(treeData);

    svg.append("g")
        .selectAll("path")
        .data(data.features)
        .join("path")
            //.attr("fill", d => color(treeData.get(d.properties.code)))
            .attr("fill", "#000000") 
            .attr("d", d3.geoPath().projection(projection))
            .style("stroke", "#fff")

  });
  </script>

  

</body>

</html>
