<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Tree Populations vs. Air Quality, Neighborhood by Neighborhood</title>
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  <script src='https://cdn.plot.ly/plotly-2.6.3.min.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js'></script>
  <style>
    body {
      font-family: Georgia, serif;
    }
    h4 {
  margin: 0px 100px 0px 100px;
  }
  .myDiv {
  display: table;
  margin: 0 auto;
  text-align: left;
  font-size: 22px;
  margin: 0px 150px 0px 150px;
}
h5 {
margin: 0px 100px 0px 100px;
}
  </style>
</head>

<body style="background-color:#ADD8E6;">

  <center><header>NYC Trees and Air Quality: What's the Correlation?</header>
</center>
  <center><nav class="navbar navbar-expand-lg navbar-light bg-info">
  <div class="container-fluid">
    <a class="navbar-brand" href="index.html">TreeClean</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="index.html">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="about.html">About</a>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            micro summaries
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
            
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro102.html">Greenwich Village and Soho </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro103.html">Lower East Side and Chinatown</a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro104.html">Clinton and Chelsea</a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro105.html">Midtown </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro106.html">Stuyvesant Town and Turtle Bay</a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro107.html">Upper West Side</a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro108.html">Upper East Side </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro109.html">Morningside Heights and Hamilton Heights </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro110.html">Central Harlem </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro111.html">East Harlem </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro112.html">Washington Heights and Inwood </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro201.html">Mott Haven and Melrose </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro202.html">Hunts Point and Longwood </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro203.html">Morrisania and Crotona </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro204.html">Highbridge and Concourse </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro205.html">Fordham and University Heights </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro206.html">Belmont and East Tremont </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro207.html">Kingsbridge Heights and Bedford </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro208.html">Riverdale and Fieldston </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro209.html">Parkchester and Soundview </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro210.html">Throgs Neck and Co-op City </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro211.html">Morris Park and Bronxdale </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro212.html">Williamsbridge and Baychester </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro301.html">Greenpoint and Williamsburg </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro302.html">Fort Greene and Brooklyn Heights </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro303.html">Bedford Stuyvesant </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro304.html">Bushwick </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro305.html">East New York and Starrett City </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro306.html">Park Slope and Carroll Gardens </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro307.html">Sunset Park </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro308.html">Crown Heights and Prospect Heights </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro309.html">South Crown Heights and Lefferts Gardens </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro310.html">Bay Ridge and Dyker Heights </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro311.html">Bensonhurst </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro312.html">Borough Park </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro313.html">Coney Island </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro314.html">Flatbush and Midwood </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro315.html">Sheepshead Bay </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro316.html">Brownsville </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro317.html">East Flatbush </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro318.html">Flatlands and Canarsie </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro401.html">Long Island City and Astoria </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro402.html">Woodside and Sunnyside </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro403.html">Jackson Heights </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro404.html">Elmhurst and Corona (CD4)</a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro405.html">Ridgewood and Maspeth </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro406.html">Rego Park and Forest Hills </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro407.html">Flushing and Whitestone </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro408.html">Hillcrest and Fresh Meadows </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro409.html">Kew Gardens and Woodhaven </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro410.html">South Ozone Park and Howard Beach </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro411.html">Bayside and Little Neck </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro412.html">Jamaica and Hollis </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro413.html">Queens Village </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro414.html">Rockaway and Broad Channel </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro501.html">St. George and Stapleton </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro502.html">South Beach and Willowbrook </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro503.html">Tottenville and Great Kills </a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="micro1.html">New York City</a>
              </li>
              
              <li><hr class="dropdown-divider"></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav></center>

  <center><h1> TreeClean: Lake Gifford and Nathalie Perra </h1></center>
  <br>
  <center><h4>This dynamically created project aims to study the possible correlation between air
    quality and tree populations in New York City. Each of the 59 community districts in NYC has been analyzed and compared to city
    averages. We learned a lot about our city while creating this project, and we hope you can take something away from our research!</center></h4>
<br>
<center><h5>The radius of these circles corresponds to each borough's tree population, while the gradient of each sphere is representative of the parts per billion of nitrogen dioxide in each borough's atmosphere.</h5></center>
<br>
  <center><div id='myDiv'><!-- Plotly chart will be drawn inside this DIV --></div></center>
  <script type = "text/javascript" src="map.js"></script>
  <script>
d3.csv('https://raw.githubusercontent.com/nathalieperra22/choroplethcsv/main/coordnycboroughs.csv', function(err, rows){

  function unpack(rows, key) {
    return rows.map(function(row) { return row[key]; });
  }

  var borough = unpack(rows, 'Borough'),
      treePop = unpack(rows, 'TreePop'),
      lat = unpack(rows, 'Lat'),
      lon = unpack(rows, 'Lon'),
      airQuality = unpack(rows, 'AirQuality'),
      boroughSize = []

  for ( var i = 0 ; i < treePop.length; i++) {
    var currentSize = treePop[i] / 1255;
    boroughSize.push(currentSize);
  }

  var layout = {
      mapbox: {
        center: {lon: -73.9, lat: 40.73},
        style: "carto-positron",
        zoom: 9,
      },
      coloraxis: {colorscale: "Greens"},
      width: 1000,
      height: 500,
      margin: {t: 30, b: 0},
  };

  console.log("lat", lat)
  console.log('lon', lon)
  console.log('size', boroughSize)

  var data = [{
    type: "scattermapbox", //"densitymapbox",
    lon: lon,
    lat: lat,
    marker: { size: boroughSize,
              color: airQuality,
              colorbar: {
               thickness: 10,
               titleside: 'right',
               outlinecolor: 'rgba(68,68,68,0)',
               ticklen: 4,
               shoticksuffix: 'last',
               ticksuffix: 'ppb',
               dtick: 4
              }
            }
  }]

  console.log('data', data)
  console.log('layout', layout)


  Plotly.newPlot("myDiv", data, layout);
});


  </script>
  <br>
  <center><h3>The average concentration of nitrogen dioxide in NYC is 19.6 parts per million.</center></h3>
  <center><h3>There are 935,115 trees in New York City!</h3></center>

<br>
  <div class="myDiv">
  <center>
    <LH>Takeaways:</LH>
    <li>While many community districts are similar sizes, the number of trees varies widely!</li>
    <li>Air quality also fluctuates signifigantly from district to district.</li>
    <li>There is definitely a loose correlation between nitrogen dioxide presense and tree population.</li>
    <li>However, there are plenty of other factors that affect air quality! What is presented here is
    only a part of a much greater picture.</li>
<br><br>

  </center></ul>
  </div>


  <center>exploring the correlation between air quality and the tree populations in New York City.</center>
<center> advanced CS topics at trinity school NYC. fall 2021.</center>
<center><a href="https://docs.google.com/spreadsheets/d/1F5_b6HC-tVvfZsiF19bv4lR3zvpfiSovdgD0OAcx4n8/edit?usp=sharing">link to data</a></center>


</body>

</html>
